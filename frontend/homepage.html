<!-- @Author: Noah Sanchez
     @Date: 2025-09-17
     @FileName: homepage.html
     @Brief: HTML for app front end (style-only update) -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="color-scheme" content="dark" />
  <title>Stock Consensus</title>

  <!-- Neon/market vibe fonts (with safe fallbacks). Remove if you prefer local-only. -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Urbanist:wght@400;700&display=swap" rel="stylesheet" />

  <!-- NOTE: this now points to homepage.css to match your file name -->
  <link rel="stylesheet" href="homepage.css" />
</head>
<script>
document.getElementById("search-form").addEventListener("submit", async function(e) {
  e.preventDefault(); // stop page reload
  const ticker = document.getElementById("q").value.trim().toUpperCase();

  if (!ticker) return;

  try {
    // Send ticker to backend endpoint
    const response = await fetch(`/api/stock/${ticker}`);
    const data = await response.json();

    // For now, just log to console
    console.log("Stock data:", data);

    // TODO: update results panel with data.name, data.current_price, data.consensus, etc.
  } catch (err) {
    console.error("Error fetching stock:", err);
  }
});
</script>

<body>
  <main class="wrap">
    <header class="hero">
      <h1 class="title">Stock <span>Consensus</span></h1>
      <p class="subtitle">Type a ticker (e.g., AAPL) and hit Enter</p>
    </header>

    <!-- Search bar -->
    <form id="search-form" class="search" action="#" method="get" autocomplete="off">
      <label for="q" class="visually-hidden">Search ticker</label>
      <input id="q" name="q" class="search__input" type="search"
             placeholder="Search by ticker…" list="tickers" required />
      <button class="btn" type="submit">Search</button>
      <!-- Lightweight HTML datalist suggestions -->
      <datalist id="tickers">
  <!-- Tech Giants -->
  <option value="AAPL">Apple Inc.</option>
  <option value="MSFT">Microsoft Corporation</option>
  <option value="GOOGL">Alphabet Inc.</option>
  <option value="GOOG">Alphabet Inc. (Class C)</option>
  <option value="META">Meta Platforms, Inc.</option>
  <option value="NVDA">NVIDIA Corporation</option>
  <option value="TSLA">Tesla, Inc.</option>
  <option value="AMD">Advanced Micro Devices, Inc.</option>
  <option value="INTC">Intel Corporation</option>
  <option value="CSCO">Cisco Systems, Inc.</option>
  <option value="ORCL">Oracle Corporation</option>
  <option value="IBM">International Business Machines Corporation</option>
  <option value="ADBE">Adobe Inc.</option>
  <option value="NFLX">Netflix, Inc.</option>
  <option value="QCOM">Qualcomm Incorporated</option>

  <!-- Financials -->
  <option value="JPM">JPMorgan Chase & Co.</option>
  <option value="BAC">Bank of America Corporation</option>
  <option value="WFC">Wells Fargo & Company</option>
  <option value="C">Citigroup Inc.</option>
  <option value="GS">Goldman Sachs Group, Inc.</option>
  <option value="MS">Morgan Stanley</option>
  <option value="AXP">American Express Company</option>
  <option value="BLK">BlackRock, Inc.</option>
  <option value="SCHW">Charles Schwab Corporation</option>
  <option value="PNC">PNC Financial Services Group, Inc.</option>

  <!-- Healthcare -->
  <option value="JNJ">Johnson & Johnson</option>
  <option value="PFE">Pfizer Inc.</option>
  <option value="MRK">Merck & Co., Inc.</option>
  <option value="UNH">UnitedHealth Group Incorporated</option>
  <option value="LLY">Eli Lilly and Company</option>
  <option value="ABBV">AbbVie Inc.</option>
  <option value="AMGN">Amgen Inc.</option>
  <option value="BMY">Bristol-Myers Squibb Company</option>
  <option value="CVS">CVS Health Corporation</option>
  <option value="TMO">Thermo Fisher Scientific Inc.</option>
  <option value="GILD">Gilead Sciences, Inc.</option>

  <!-- Consumer Staples -->
  <option value="PG">Procter & Gamble Company</option>
  <option value="KO">The Coca-Cola Company</option>
  <option value="PEP">PepsiCo, Inc.</option>
  <option value="WMT">Walmart Inc.</option>
  <option value="COST">Costco Wholesale Corporation</option>
  <option value="TGT">Target Corporation</option>
  <option value="MO">Altria Group, Inc.</option>
  <option value="PM">Philip Morris International Inc.</option>
  <option value="MDLZ">Mondelez International, Inc.</option>
  <option value="CL">Colgate-Palmolive Company</option>

  <!-- Consumer Discretionary -->
  <option value="MCD">McDonald's Corporation</option>
  <option value="NKE">Nike, Inc.</option>
  <option value="SBUX">Starbucks Corporation</option>
  <option value="HD">The Home Depot, Inc.</option>
  <option value="LOW">Lowe's Companies, Inc.</option>
  <option value="DIS">The Walt Disney Company</option>
  <option value="BKNG">Booking Holdings Inc.</option>
  <option value="MAR">Marriott International, Inc.</option>
  <option value="TGT">Target Corporation</option>
  <option value="ROST">Ross Stores, Inc.</option>

  <!-- Industrials -->
  <option value="BA">Boeing Company</option>
  <option value="CAT">Caterpillar Inc.</option>
  <option value="MMM">3M Company</option>
  <option value="GE">GE Aerospace</option>
  <option value="HON">Honeywell International Inc.</option>
  <option value="LMT">Lockheed Martin Corporation</option>
  <option value="RTX">RTX Corporation</option>
  <option value="UPS">United Parcel Service, Inc.</option>
  <option value="FDX">FedEx Corporation</option>
  <option value="DE">Deere & Company</option>

  <!-- Energy -->
  <option value="XOM">Exxon Mobil Corporation</option>
  <option value="CVX">Chevron Corporation</option>
  <option value="SLB">Schlumberger Limited</option>
  <option value="COP">ConocoPhillips</option>
  <option value="PSX">Phillips 66</option>
  <option value="OXY">Occidental Petroleum Corporation</option>
  <option value="EOG">EOG Resources, Inc.</option>
  <option value="MPC">Marathon Petroleum Corporation</option>
  <option value="HES">Hess Corporation</option>
  <option value="VLO">Valero Energy Corporation</option>

  <!-- Utilities & Telecom -->
  <option value="NEE">NextEra Energy, Inc.</option>
  <option value="DUK">Duke Energy Corporation</option>
  <option value="SO">Southern Company</option>
  <option value="D">Dominion Energy, Inc.</option>
  <option value="AEP">American Electric Power Company, Inc.</option>
  <option value="VZ">Verizon Communications Inc.</option>
  <option value="T">AT&T Inc.</option>
  <option value="CMCSA">Comcast Corporation</option>
  <option value="TMUS">T-Mobile US, Inc.</option>
  <option value="CHTR">Charter Communications, Inc.</option>

  <!-- Other Large Caps -->
  <option value="SPGI">S&P Global Inc.</option>
  <option value="CRM">Salesforce, Inc.</option>
  <option value="NOW">ServiceNow, Inc.</option>
  <option value="ADP">Automatic Data Processing, Inc.</option>
  <option value="INTU">Intuit Inc.</option>
  <option value="PYPL">PayPal Holdings, Inc.</option>
  <option value="SQ">Block, Inc.</option>
  <option value="PLTR">Palantir Technologies Inc.</option>
  <option value="SHOP">Shopify Inc.</option>
  <option value="UBER">Uber Technologies, Inc.</option>
</datalist>

    </form>

    <!-- Results panel (empty by default) -->
    <section id="results" class="panel" aria-live="polite">
      <div class="placeholder">
        <h2>Results</h2>
        <p>Search a ticker to see price, metrics, and a buy/sell consensus.</p>
        <ul></ul>
      </div>
    </section>

    <footer class="foot">
      <small>Demo UI — wire up to your API when ready.</small>
    </footer>
  </main>
  <script>
document.getElementById("search-form").addEventListener("submit", async function(e) {
  e.preventDefault();
  const ticker = document.getElementById("q").value.trim().toUpperCase();

  if (!ticker) return;

  try {
    const response = await fetch(`http://127.0.0.1:8000/api/stock/${ticker}`);
    const data = await response.json();

    // Build HTML for results panel
    const resultsDiv = document.getElementById("results");
    resultsDiv.innerHTML = `
      <div class="panel">
        <h2>${data.name} (${data.symbol})</h2>
        <p><strong>Current Price:</strong> $${data.current_price}</p>
        <p><strong>Consensus:</strong> ${data.consensus}</p>
      </div>
    `;
  } catch (err) {
    console.error("Error fetching stock:", err);
  }
});
</script>

  <!-- No JS/functionality changes included here. Keep your current script as-is when you add it. -->
</body>
</html>